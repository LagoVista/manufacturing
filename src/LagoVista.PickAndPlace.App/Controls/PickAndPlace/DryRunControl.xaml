<ucb:VMBoundUserControl x:Class="LagoVista.PickAndPlace.App.Controls.PickAndPlace.DryRunControl"
             x:TypeArguments="vm:IDryRunViewModel"                        
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:pcb="clr-namespace:LagoVista.PickAndPlace.App.Controls"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             d:DataContext="{d:DesignInstance vm:IDryRunViewModel }"
             xmlns:local="clr-namespace:LagoVista.PickAndPlace.App.Controls.PickAndPlace"
             mc:Ignorable="d" 
             xmlns:ucb="clr-namespace:LagoVista.XPlat;assembly=LagoVista.XPlat.WPF"
             xmlns:vm="clr-namespace:LagoVista.PickAndPlace.Interfaces.ViewModels.PickAndPlace;assembly=LagoVista.PickAndPlace"                                                                 
             d:DesignHeight="450" d:DesignWidth="800">
    <Grid Margin="10">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="50*" />
                <ColumnDefinition Width="50*" />
            </Grid.ColumnDefinitions>
            <StackPanel>
                <TextBlock Style="{StaticResource header}" Text="Parts to Place"></TextBlock>
                <DataGrid ItemsSource="{Binding JobVM.Job.Parts}" LoadingRow="DataGrid_LoadingRow"  SelectionMode="Single" SelectedItem="{Binding JobVM.PickAndPlaceJobPart, Mode=TwoWay}" CanUserAddRows="false" AutoGenerateColumns="False">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Count" Width="80" Binding="{Binding Count}"  />
                        <DataGridTextColumn Header="Package" Width="200" Binding="{Binding PackageName, Mode=TwoWay}"  />
                        <DataGridTextColumn Header="Value" Width="200" Binding="{Binding Value, Mode=TwoWay}"  />
                        <DataGridTextColumn Header="Names" Width="*" Binding="{Binding .}"  />
                        <DataGridTextColumn Header="Auto Feeder" Width="*" Binding="{Binding AutoFeeder}"  />
                        <DataGridTextColumn Header="Strip Feeder" Width="*" Binding="{Binding StripFeeder}"  />
                        <DataGridTextColumn Header="Strip Feeder Row" Width="*" Binding="{Binding StripFeederRow}"  />
                    </DataGrid.Columns>
                </DataGrid>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="60*" />
                        <ColumnDefinition Width="40*" />
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0">
                        <TextBlock Style="{StaticResource header}" Text="{Binding JobVM.CurrentComponent.Name}"></TextBlock>
                        <StackPanel Grid.Row="2" Grid.Column="1"  Orientation="Horizontal">
                            <Button Style="{StaticResource CommandButton}" Command="{Binding JobVM.ShowComponentDetailCommand}">Component Detail</Button>
                            <Button Style="{StaticResource CommandButton}" Command="{Binding JobVM.ShowComponentPackageDetailCommand}">Package Detail</Button>
                            <Button Style="{StaticResource CommandButton}" Command="{Binding JobVM.ShowDataSheetCommand}">Show Datasheet</Button>
                        </StackPanel>

                        <TextBlock Style="{StaticResource header}" Text="Placements"></TextBlock>
                        <DataGrid ItemsSource="{Binding JobVM.PickAndPlaceJobPart.Placements}"  SelectionMode="Single" SelectedItem="{Binding JobVM.Placement, Mode=TwoWay}" CanUserAddRows="false"  AutoGenerateColumns="False">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Name" Width="*" Binding="{Binding Name}"  />
                                <DataGridTextColumn Header="Location" Width="*" Binding="{Binding PCBLocation}"  />
                                <DataGridTextColumn Header="Rotation" Width="*" Binding="{Binding Rotation}"  />
                            </DataGrid.Columns>
                        </DataGrid>

                        <TextBlock Style="{StaticResource header}" Text="Component" />
                        <StackPanel Orientation="Horizontal">
                            <Button Style="{StaticResource CommandButton}" Command="{Binding MoveToPartInFeederCommand}" Content="Move To Part in Feeder"></Button>
                            <Button Style="{StaticResource CommandButton}" Command="{Binding PickPartCommand}" Content="Pick Part"></Button>
                            <Button Style="{StaticResource CommandButton}" Command="{Binding InspectPartCommand}" Content="Inspect Part"></Button>
                            <Button Style="{StaticResource CommandButton}" Command="{Binding RecyclePartCommand}" Content="Recycle Part"></Button>
                        </StackPanel>

                        <TextBlock Style="{StaticResource header}" Text="Placeable Part" />
                        <StackPanel Orientation="Horizontal">
                            <Button Style="{StaticResource CommandButton}" Command="{Binding RotatePartCommand}" Content="Rotate To Place"></Button>
                            <Button Style="{StaticResource CommandButton}" Command="{Binding GoToPartOnBoardCommand}" Content="Go To Part In Board"></Button>
                            <Button Style="{StaticResource CommandButton}" Command="{Binding PlacePartCommand}" Content="Place Part Board"></Button>
                            <Button Style="{StaticResource CommandButton}" Command="{Binding InspectPartOnBoardCommand}" Content="Inspect Part on Board"></Button>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <Button Style="{StaticResource CommandButton}" Command="{Binding PickPartFromBoardCommand}" Content="Pick Part From Board"></Button>
                            <Button Style="{StaticResource CommandButton}" Command="{Binding RotateBackPartCommand}" Content="Rotate Back"></Button>
                            <Button Style="{StaticResource CommandButton}" Command="{Binding RecyclePartCommand}" Content="Recycle Part"></Button>
                        </StackPanel>
                    </StackPanel>

                    <local:CircuitBoardControl Grid.Column="1" />
                </Grid>

            </StackPanel>

            <pcb:PCBRenderer Grid.Column="1" TopWiresVisible="true" BottomWiresVisible="true" PCBVisible="true" CenterBoard="true" Grid.Row="2" CircuitBoard="{Binding JobVM.CircuitBoard}" ></pcb:PCBRenderer>
        </Grid>

    </Grid>
</ucb:VMBoundUserControl>
